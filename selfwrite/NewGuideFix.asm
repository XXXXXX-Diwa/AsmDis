.gba
.open "zm.gba","1.gba",0x8000000
;跨区只要到达了终点区就会立即指向终点坐标并结束
;跨区后只要再经过起始区同样似乎会出现问题
.org 0x8412bd0                      ;欧版语言的不用的图片
NewGuideGfxOffset:
    .import "NewGuideTile.gfx.lz"   ;完整的指引区名图导入

.org 0x80581E8                      ;修复三处原ldr 8345934的偏移值
    .dw NewGuideTransferAreaOffset	
.org 0x8072b70
    .dw NewGuideTransferAreaOffset
.org 0x8072F7C
    .dw NewGuideTransferAreaOffset

	
.org 0x8760120                      ;调取图片坐标数据更正
    .dw NewGuideGfxOffset
	.dw NewGuideGfxOffset
	.dw NewGuideGfxOffset
	.dw NewGuideGfxOffset
	.dw NewGuideGfxOffset
	.dw NewGuideGfxOffset
	.dw NewGuideGfxOffset 

;当前区号乘以4 加 87603f0 读取坐标 起始40E068
;然后读取要到的区号,乘以6 加上上面的坐标
;首字母乘以8加345934

.org 0x87603F0         ;按起始区号作为偏移数据的坐标
.word BrinstarGuideData
.word KraidGuideData
.word NorfairGuideData
.word RidleyGuideData
.word TourianGuideData
.word CrateriaGuideData
.word ChozodiaGuideData

.org 0x840DF78         ;能力传送坐标的基础数据
; 起始区 始X坐标x2 始Y坐标x2  ??  终区 终X  终Y   ??   0000
.db 0x03,0x0E,0x0E,0x03,0x03,0x01,0x05,0x0A,0x07,0x01,0x00,0x00 ;长枪指引数据
;.db 0x00,0x09,0x09,0x0F,0x0F,0x01,0x00,0x06,0x06,0x01,0x00,0x00 ;长枪指引数据
.db 0x00,0x09,0x09,0x03,0x03,0x01,0x00,0x18,0x06,0x01,0x00,0x00 ;炸弹指引数据 
.db 0x00,0x12,0x12,0x0A,0x0A,0x01,0x02,0x12,0x03,0x01,0x00,0x00 ;冰枪指引数据
.db 0x02,0x12,0x12,0x01,0x01,0x01,0x01,0x08,0x0F,0x01,0x00,0x00 ;加速指引数据
.db 0x00,0x08,0x08,0x12,0x12,0x01,0x02,0x13,0x08,0x01,0x00,0x00 ;高跳指引数据
.db 0x02,0x15,0x15,0x0A,0x0A,0x01,0x00,0x0E,0x02,0x01,0x00,0x00 ;隔热指引数据
.db 0x00,0x1A,0x1A,0x04,0x04,0x01,0x02,0x0A,0x0C,0x01,0x00,0x00 ;波动指引数据
.db 0x02,0x13,0x13,0x0D,0x0D,0x01,0x02,0x06,0x07,0x01,0x00,0x00 ;旋转指引数据
.db 0x01,0x09,0x0A,0x0E,0x0F,0x08,0x00,0x03,0x03,0x0A,0x00,0x00 ;取消的指引??
.db 0x03,0x07,0x08,0x06,0x07,0x0C,0x00,0x02,0x03,0x0E,0x00,0x00 ;同上

/////////////////////////////////////
.org 0x8760D38               ;结尾自由空白数据
.align  ;按最终目的地区来分数据,每个区六个字节,当然可以超出,只是起始点按六个字节偏移
BrinstarGuideData:          ;每2个字节代表传送到某区要调用上下以及调用的传送位置数据偏移值
.dh 0x0000,0x0000,0x0000    ;布林数据起始
.dh 0x0000,0x0000,0x0000    ;克雷数据起始
.dh 0x0000,0x0000,0x0000    ;火区数据起始
.dh 0x0000,0x0000,0x0000    ;鸟区数据起始
.dh 0x0000,0x0000,0x0000    ;脑区数据起始
.dh 0x400D,0x400A,0x400E    ;峡谷数据起始
.dh 0xC00E,0xC011,0x4000    ;母舰数据起始


KraidGuideData:             ;传送到最终目的地的区号,作为六个字节偏移值的倍数
.dh 0x0000,0x0000,0x0000    ;布林数据起始
.dh 0x0000,0x0000,0x0000    ;克雷数据起始
.dh 0x0000,0x0000,0x0000    ;火区数据起始
.dh 0x0000,0x0000,0x0000    ;鸟区数据起始
.dh 0x0000,0x0000,0x0000    ;脑区数据起始
.dh 0x0000,0x0000,0x0000    ;峡谷数据起始
.dh 0x0000,0x0000,0x0000    ;母舰数据起始

NorfairGuideData:
.dh 0x0000,0x0000,0x0000    ;布林数据起始
.dh 0x0000,0x0000,0x0000    ;克雷数据起始
.dh 0x0000,0x0000,0x0000    ;火区数据起始
.dh 0x0000,0x0000,0x0000    ;鸟区数据起始
.dh 0x0000,0x0000,0x0000    ;脑区数据起始
.dh 0x0000,0x0000,0x0000    ;峡谷数据起始
.dh 0x0000,0x0000,0x0000    ;母舰数据起始

RidleyGuideData:
.dh 0x0000,0x0000,0x0000    ;布林数据起始
.dh 0x0000,0x0000,0x0000    ;克雷数据起始
.dh 0x0000,0x0000,0x0000    ;火区数据起始
.dh 0x0000,0x0000,0x0000    ;鸟区数据起始
.dh 0x0000,0x0000,0x0000    ;脑区数据起始
.dh 0xC00E,0xC00A,0xC00D    ;峡谷数据起始
.dh 0x400F,0xC012,0x0000    ;母舰数据起始

TourianGuideData:
.dh 0x0000,0x0000,0x0000    ;布林数据起始
.dh 0x0000,0x0000,0x0000    ;克雷数据起始
.dh 0x0000,0x0000,0x0000    ;火区数据起始
.dh 0x0000,0x0000,0x0000    ;鸟区数据起始
.dh 0x0000,0x0000,0x0000    ;脑区数据起始
.dh 0x0000,0x0000,0x0000    ;峡谷数据起始
.dh 0x0000,0x0000,0x0000    ;母舰数据起始

CrateriaGuideData:
.dh 0x0000,0x0000,0x0000    ;布林数据起始
.dh 0x0000,0x0000,0x0000    ;克雷数据起始
.dh 0x0000,0x0000,0x0000    ;火区数据起始
.dh 0x0000,0x0000,0x0000    ;鸟区数据起始
.dh 0x0000,0x0000,0x0000    ;脑区数据起始
.dh 0x0000,0x0000,0x0000    ;峡谷数据起始
.dh 0x0000,0x0000,0x0000    ;母舰数据起始

ChozodiaGuideData:
.dh 0x0000,0x0000,0x0000    ;布林数据起始
.dh 0x0000,0x0000,0x0000    ;克雷数据起始
.dh 0x0000,0x0000,0x0000    ;火区数据起始
.dh 0x0000,0x0000,0x0000    ;鸟区数据起始
.dh 0x0000,0x0000,0x0000    ;脑区数据起始
.dh 0x0000,0x0000,0x0000    ;峡谷数据起始
.dh 0x0000,0x0000,0x0000    ;母舰数据起始
.align
NewGuideTransferAreaOffset: ;结果就是支持更多行区域数据
;    区   房   X    Y    区   房   X    Y
.db 0x0B,0x00,0x00,0x00,0x0B,0x00,0x00,0x00 ;0 结束或无用
.db 0x05,0x03,0x0E,0x0A,0x00,0x00,0x02,0x0F ;1 水←→布
.db 0x00,0x1A,0x16,0x0C,0x02,0x00,0x0E,0x04 ;2 火←→布
.db 0x00,0x08,0x06,0x12,0x01,0x00,0x09,0x05 ;3 布←→克
.db 0x02,0x23,0x11,0x0D,0x03,0x00,0x0F,0x02 ;4 火←→鸟
.db 0x00,0x0B,0x01,0x03,0x04,0x00,0x14,0x03 ;5 布←→母
.db 0x05,0x04,0x03,0x0C,0x04,0x05,0x12,0x02 ;6 水←→母
.db 0x05,0x06,0x0F,0x07,0x02,0x02,0x05,0x04 ;7 水←→火
.db 0x05,0x12,0x03,0x0C,0x04,0x08,0x12,0x02 ;8 水←→母
.db 0x05,0x0A,0x17,0x03,0x06,0x22,0x03,0x11 ;9 水←→舰

.db 0x01,0x29,0x12,0x09,0x02,0x38,0x04,0x08 ;0 克  火
.db 0x05,0x03,0x0E,0x0A,0x00,0x00,0x02,0x0F ;1 水←→布
.db 0x00,0x1A,0x16,0x0C,0x02,0x00,0x0E,0x04 ;2 火←→布
.db 0x00,0x08,0x06,0x12,0x01,0x00,0x09,0x05 ;3 布←→克
.db 0x02,0x23,0x11,0x0D,0x03,0x00,0x0F,0x02 ;4 火←→鸟
.db 0x00,0x0B,0x01,0x03,0x04,0x00,0x14,0x03 ;5 布←→母
.db 0x05,0x04,0x03,0x0C,0x04,0x05,0x12,0x02 ;6 水←→母
.db 0x05,0x06,0x0F,0x07,0x02,0x02,0x05,0x04 ;7 水←→火
.db 0x05,0x12,0x03,0x0C,0x04,0x08,0x12,0x02 ;8 水←→母
.db 0x05,0x0A,0x17,0x03,0x06,0x22,0x03,0x11 ;9 水←→舰

.close